{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/HP/Desktop/my_workspace/hackathon/NFT/Pixelate/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/Users/HP/Desktop/my_workspace/hackathon/NFT/Pixelate/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/HP/Desktop/my_workspace/hackathon/NFT/Pixelate/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/HP/Desktop/my_workspace/hackathon/NFT/Pixelate/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useGlobalState,setGlobalState,setLoadingMsg,setAlert}from'../store';import{updateNFT}from'../Blockchain.Services';import{useState}from'react';import{FaTimes}from'react-icons/fa';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdateNFT=function UpdateNFT(){var _useGlobalState=useGlobalState('updateModal'),_useGlobalState2=_slicedToArray(_useGlobalState,1),modal=_useGlobalState2[0];var _useGlobalState3=useGlobalState('nft'),_useGlobalState4=_slicedToArray(_useGlobalState3,1),nft=_useGlobalState4[0];var _useState=useState(''),_useState2=_slicedToArray(_useState,2),price=_useState2[0],setPrice=_useState2[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(!price||price<=0)){_context.next=3;break;}return _context.abrupt(\"return\");case 3:setGlobalState('modal','scale-0');setGlobalState('loading',{show:true,msg:'Initiating price update...'});_context.prev=5;setLoadingMsg('Price updating...');setGlobalState('updateModal','scale-0');_context.next=10;return updateNFT(_objectSpread(_objectSpread({},nft),{},{cost:price}));case 10:setAlert('Price updated...','green');window.location.reload();_context.next=18;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](5);console.log('Error updating file: ',_context.t0);setAlert('Update failed...','red');case 18:case\"end\":return _context.stop();}}},_callee,null,[[5,14]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"fixed top-0 left-0 w-screen h-screen flex items-center\\n      justify-center bg-black bg-opacity-50 transform\\n      transition-transform duration-300 \".concat(modal),children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-[#151c25] shadow-xl shadow-[#e32970] rounded-xl w-11/12 md:w-2/5 h-7/12 p-6\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row justify-between items-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-gray-400\",children:nft===null||nft===void 0?void 0:nft.title}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return setGlobalState('updateModal','scale-0');},className:\"border-0 bg-transparent focus:outline-none\",children:/*#__PURE__*/_jsx(FaTimes,{className:\"text-gray-400\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-row justify-center items-center rounded-xl mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"shrink-0 rounded-xl overflow-hidden h-20 w-20\",children:/*#__PURE__*/_jsx(\"img\",{alt:nft===null||nft===void 0?void 0:nft.title,src:nft===null||nft===void 0?void 0:nft.metadataURI,className:\"h-full w-full object-cover cursor-pointer\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-row justify-between items-center bg-gray-800 rounded-xl mt-5\",children:/*#__PURE__*/_jsx(\"input\",{className:\"block w-full text-sm\\r text-slate-500 bg-transparent border-0\\r focus:outline-none focus:ring-0\",type:\"number\",step:0.01,min:0.01,name:\"price\",placeholder:\"Price (Eth)\",onChange:function onChange(e){return setPrice(e.target.value);},required:true})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleSubmit,className:\"flex flex-row justify-center items-center\\r w-full text-white text-md bg-[#e32970]\\r hover:bg-[#bd255f] py-2 px-5 rounded-full\\r drop-shadow-xl border border-transparent\\r hover:bg-transparent hover:text-[#e32970]\\r hover:border hover:border-[#bd255f]\\r focus:outline-none focus:ring mt-5\",children:\"Update Now\"})]})})});};export default UpdateNFT;","map":{"version":3,"names":["useGlobalState","setGlobalState","setLoadingMsg","setAlert","updateNFT","useState","FaTimes","UpdateNFT","modal","nft","price","setPrice","handleSubmit","e","preventDefault","show","msg","cost","window","location","reload","console","log","title","metadataURI","target","value"],"sources":["C:/Users/HP/Desktop/my_workspace/hackathon/NFT/Pixelate/src/components/UpdateNFT.jsx"],"sourcesContent":["import {\r\n  useGlobalState,\r\n  setGlobalState,\r\n  setLoadingMsg,\r\n  setAlert,\r\n} from '../store'\r\nimport { updateNFT } from '../Blockchain.Services'\r\nimport { useState } from 'react'\r\nimport { FaTimes } from 'react-icons/fa'\r\n\r\nconst UpdateNFT = () => {\r\n  const [modal] = useGlobalState('updateModal')\r\n  const [nft] = useGlobalState('nft')\r\n  const [price, setPrice] = useState('')\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    if (!price || price <= 0) return\r\n\r\n    setGlobalState('modal', 'scale-0')\r\n    setGlobalState('loading', { show: true, msg: 'Initiating price update...' })\r\n\r\n    try {\r\n      setLoadingMsg('Price updating...')\r\n      setGlobalState('updateModal', 'scale-0')\r\n\r\n      await updateNFT({ ...nft, cost: price })\r\n      setAlert('Price updated...', 'green')\r\n      window.location.reload()\r\n    } catch (error) {\r\n      console.log('Error updating file: ', error)\r\n      setAlert('Update failed...', 'red')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`fixed top-0 left-0 w-screen h-screen flex items-center\r\n      justify-center bg-black bg-opacity-50 transform\r\n      transition-transform duration-300 ${modal}`}\r\n    >\r\n      <div className=\"bg-[#151c25] shadow-xl shadow-[#e32970] rounded-xl w-11/12 md:w-2/5 h-7/12 p-6\">\r\n        <form className=\"flex flex-col\">\r\n          <div className=\"flex flex-row justify-between items-center\">\r\n            <p className=\"font-semibold text-gray-400\">{nft?.title}</p>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setGlobalState('updateModal', 'scale-0')}\r\n              className=\"border-0 bg-transparent focus:outline-none\"\r\n            >\r\n              <FaTimes className=\"text-gray-400\" />\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"flex flex-row justify-center items-center rounded-xl mt-5\">\r\n            <div className=\"shrink-0 rounded-xl overflow-hidden h-20 w-20\">\r\n              <img\r\n                alt={nft?.title}\r\n                src={nft?.metadataURI}\r\n                className=\"h-full w-full object-cover cursor-pointer\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex flex-row justify-between items-center bg-gray-800 rounded-xl mt-5\">\r\n            <input\r\n              className=\"block w-full text-sm\r\n              text-slate-500 bg-transparent border-0\r\n              focus:outline-none focus:ring-0\"\r\n              type=\"number\"\r\n              step={0.01}\r\n              min={0.01}\r\n              name=\"price\"\r\n              placeholder=\"Price (Eth)\"\r\n              onChange={(e) => setPrice(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            onClick={handleSubmit}\r\n            className=\"flex flex-row justify-center items-center\r\n            w-full text-white text-md bg-[#e32970]\r\n            hover:bg-[#bd255f] py-2 px-5 rounded-full\r\n            drop-shadow-xl border border-transparent\r\n            hover:bg-transparent hover:text-[#e32970]\r\n            hover:border hover:border-[#bd255f]\r\n            focus:outline-none focus:ring mt-5\"\r\n          >\r\n            Update Now\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UpdateNFT\r\n"],"mappings":"mkBAAA,OACEA,cAAc,CACdC,cAAc,CACdC,aAAa,CACbC,QAAQ,KACH,UAAU,CACjB,OAASC,SAAS,KAAQ,wBAAwB,CAClD,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,OAAO,KAAQ,gBAAgB,yFAExC,GAAMC,UAAS,CAAG,QAAZA,UAAS,EAAS,CACtB,oBAAgBP,cAAc,CAAC,aAAa,CAAC,oDAAtCQ,KAAK,qBACZ,qBAAcR,cAAc,CAAC,KAAK,CAAC,qDAA5BS,GAAG,qBACV,cAA0BJ,QAAQ,CAAC,EAAE,CAAC,wCAA/BK,KAAK,eAAEC,QAAQ,eAEtB,GAAMC,aAAY,4FAAG,iBAAOC,CAAC,oHAC3BA,CAAC,CAACC,cAAc,EAAE,MACd,CAACJ,KAAK,EAAIA,KAAK,EAAI,CAAC,kEAExBT,cAAc,CAAC,OAAO,CAAE,SAAS,CAAC,CAClCA,cAAc,CAAC,SAAS,CAAE,CAAEc,IAAI,CAAE,IAAI,CAAEC,GAAG,CAAE,4BAA6B,CAAC,CAAC,iBAG1Ed,aAAa,CAAC,mBAAmB,CAAC,CAClCD,cAAc,CAAC,aAAa,CAAE,SAAS,CAAC,wBAElCG,UAAS,gCAAMK,GAAG,MAAEQ,IAAI,CAAEP,KAAK,GAAG,SACxCP,QAAQ,CAAC,kBAAkB,CAAE,OAAO,CAAC,CACrCe,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE,kFAExBC,OAAO,CAACC,GAAG,CAAC,uBAAuB,aAAQ,CAC3CnB,QAAQ,CAAC,kBAAkB,CAAE,KAAK,CAAC,sEAEtC,kBAlBKS,aAAY,4CAkBjB,CAED,mBACE,YACE,SAAS,kKAE2BJ,KAAK,CAAG,uBAE5C,YAAK,SAAS,CAAC,gFAAgF,uBAC7F,cAAM,SAAS,CAAC,eAAe,wBAC7B,aAAK,SAAS,CAAC,4CAA4C,wBACzD,UAAG,SAAS,CAAC,6BAA6B,UAAEC,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEc,KAAK,EAAK,cAC3D,eACE,IAAI,CAAC,QAAQ,CACb,OAAO,CAAE,yBAAMtB,eAAc,CAAC,aAAa,CAAE,SAAS,CAAC,EAAC,CACxD,SAAS,CAAC,4CAA4C,uBAEtD,KAAC,OAAO,EAAC,SAAS,CAAC,eAAe,EAAG,EAC9B,GACL,cAEN,YAAK,SAAS,CAAC,2DAA2D,uBACxE,YAAK,SAAS,CAAC,+CAA+C,uBAC5D,YACE,GAAG,CAAEQ,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEc,KAAM,CAChB,GAAG,CAAEd,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEe,WAAY,CACtB,SAAS,CAAC,2CAA2C,EACrD,EACE,EACF,cAEN,YAAK,SAAS,CAAC,wEAAwE,uBACrF,cACE,SAAS,CAAC,iGAEsB,CAChC,IAAI,CAAC,QAAQ,CACb,IAAI,CAAE,IAAK,CACX,GAAG,CAAE,IAAK,CACV,IAAI,CAAC,OAAO,CACZ,WAAW,CAAC,aAAa,CACzB,QAAQ,CAAE,kBAACX,CAAC,QAAKF,SAAQ,CAACE,CAAC,CAACY,MAAM,CAACC,KAAK,CAAC,EAAC,CAC1C,QAAQ,OACR,EACE,cAEN,eACE,IAAI,CAAC,QAAQ,CACb,OAAO,CAAEd,YAAa,CACtB,SAAS,CAAC,kSAMyB,wBAG5B,GACJ,EACH,EACF,CAEV,CAAC,CAED,cAAeL,UAAS"},"metadata":{},"sourceType":"module"}